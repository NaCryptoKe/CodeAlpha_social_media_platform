SELECT    p.id,    p.user_id,    p.content,    p.image_path,    p.created_at,    u.username,    u.profile_pic,    COALESCE(l.like_count, 0)::int AS like_count,    COALESCE(co.comment_count, 0)::int AS comment_count,    MAX(CASE WHEN ul.user_id = 1 THEN 1 ELSE 0 END)::int AS has_liked FROM posts p JOIN users u ON p.user_id = u.id LEFT JOIN (    SELECT post_id, COUNT(*) AS like_count FROM likes GROUP BY post_id ) l ON p.id = l.post_id LEFT JOIN (    SELECT post_id, COUNT(*) AS comment_count FROM comments GROUP BY post_id ) co ON p.id = co.post_id LEFT JOIN likes ul ON p.id = ul.post_id AND ul.user_id = 1 WHERE p.user_id = 1 ORDER BY p.created_at DESC